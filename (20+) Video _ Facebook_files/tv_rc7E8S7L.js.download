;/*FB_PKG_DELIM*/

__d("FDSShopsFilled24Icon",["cr:15668"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15668")}),98);
__d("FDSShopsFilled24PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("1664046"),24);b=a;g["default"]=b}),98);
__d("StoriesCreateMusicStickerConstants",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a={HEIGHT:69,WIDTH:160};c={HEIGHT:153,WIDTH:117};d=24;e=12;var g=[12,16,20,24,32];b=b("$InternalEnum").Mirrored(["LyricsDark","LyricsFloating","LyricsLarge","LyricsLight","LyricsNarrowText","LyricsFacebookSans"]);var h={LyricsDark:{style:3,xplat_sticker_style:1},LyricsFacebookSans:{style:2,xplat_sticker_style:100},LyricsFloating:{style:3,xplat_sticker_style:1},LyricsLarge:{style:2,xplat_sticker_style:3},LyricsLight:{style:3,xplat_sticker_style:1},LyricsNarrowText:{style:2,xplat_sticker_style:100}},i={FIRST_RECTANGLE_LEFT:69,LAST_RECTANGLE_RIGHT:69,RECTANGLE_DEFAULT_LEFT:6,RECTANGLE_HEIGHTS:[24,13,20,14,7,14,20,13,24],RECTANGLE_MARGIN_TOPS:[16,22,18,21,24,21,18,22,16],TOTAL_WIDTH:9},j=300,k=100,l={LEFT:69,RIGHT:69,WIDTH:189},m=15,n=30,o=351,p=2e3,q=1,r=100,s={DEFAULT_FONT_SIZE:15,WIDTH:250};f.LYRICS_SMALL=a;f.LYRICS_LARGE=c;f.CLOSE_BUTTON_SIZE=d;f.DEFAULT_MUSIC_ICON_SIZE=e;f.AVAILABLE_MUSIC_ICON_SIZES=g;f.MusicStickers=b;f.STICKER_STYLES=h;f.MUSIC_WAVE=i;f.MUSIC_WAVE_SCRUBBER_WIDTH=j;f.MUSIC_WAVE_OPACITY_GRADIENT=k;f.MUSIC_PROGRESS_BAR=l;f.PROGRESS_BAR_DEFAULT_TIME=m;f.MUSIC_NOTES_PROGRESS_BAR_DEFAULT_TIME=n;f.MUSIC_NOTES_PROGRESS_BAR_CONTAINER_WIDTH=o;f.SCROLL_STOP_TIMEOUT=p;f.UNDO_THRESHOLD=q;f.UNDO_SCROLL_STOP_INTERVAL=r;f.MUSIC_STICKER_LYRICS=s}),66);
__d("StoriesCreateMusicStickerReducer",["FBLogger","StoriesCreateMusicStickerConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e,f=a.stickerData,g=f==null?void 0:f.musicSticker,h=g==null?void 0:g.musicStickerMetaData;e=(e=h)==null?void 0:e.bounds;e==null&&(e={height:d("StoriesCreateMusicStickerConstants").LYRICS_LARGE.HEIGHT,rotation:0,width:d("StoriesCreateMusicStickerConstants").LYRICS_LARGE.WIDTH,x:0,y:0});h==null&&(h={album_title:"",bounds:e,cover_artwork:"",is_explicit:!1,scale_factor:0,should_use_xplat_style:!0,song_title:"",style:d("StoriesCreateMusicStickerConstants").STICKER_STYLES.LyricsLarge.style,xplat_sticker_style:d("StoriesCreateMusicStickerConstants").STICKER_STYLES.LyricsLarge.xplat_sticker_style});if(f==null)throw c("FBLogger")("fb_stories_web").mustfixThrow("Sticker Data should not be null/undefined");switch(b.type){case"OPEN_MUSIC_SELECTOR":return g!=null?a:babelHelpers["extends"]({},a,{stickerData:babelHelpers["extends"]({},f,{musicSticker:{}})});case"UPDATE_MUSIC_STICKER_BOUNDS":return babelHelpers["extends"]({},a,{stickerData:babelHelpers["extends"]({},f,{musicSticker:babelHelpers["extends"]({},g,{musicStickerMetaData:babelHelpers["extends"]({},h,{bounds:babelHelpers["extends"]({},e,{x:b.x,y:b.y})})})})});case"UPDATE_MUSIC_STICKER_TRANSLATION":return babelHelpers["extends"]({},a,{stickerData:babelHelpers["extends"]({},f,{musicSticker:babelHelpers["extends"]({},g,{translationX:b.translationX,translationY:b.translationY})})});case"UPDATE_MUSIC_STICKER_RESIZE":return babelHelpers["extends"]({},a,{stickerData:babelHelpers["extends"]({},f,{musicSticker:babelHelpers["extends"]({},g,{musicStickerMetaData:babelHelpers["extends"]({},h,{bounds:babelHelpers["extends"]({},e,{height:b.height,width:b.width}),scale_factor:b.resizeFactor})})})});case"UPDATE_MUSIC_STICKER_ROTATION":return babelHelpers["extends"]({},a,{stickerData:babelHelpers["extends"]({},f,{musicSticker:babelHelpers["extends"]({},g,{musicStickerMetaData:babelHelpers["extends"]({},h,{bounds:babelHelpers["extends"]({},e,{rotation:b.rotation})})})})});case"CLOSE_MUSIC_SELECTOR":return babelHelpers["extends"]({},a,{stickerData:babelHelpers["extends"]({},f,{musicSticker:null})});case"SELECT_SONG":return babelHelpers["extends"]({},a,{stickerData:babelHelpers["extends"]({},f,{musicSticker:babelHelpers["extends"]({},g,{musicStickerMetaData:babelHelpers["extends"]({},h,{album_title:b.song.albumTitle,cover_artwork:b.song.coverArtwork,is_explicit:b.song.isExplicit,song_title:b.song.title}),selectedMusicStyle:d("StoriesCreateMusicStickerConstants").MusicStickers.LyricsLarge,showMusicEditorFooter:!0,song:b.song})})});case"REMOVE_SONG":return babelHelpers["extends"]({},a,{stickerData:babelHelpers["extends"]({},f,{musicSticker:babelHelpers["extends"]({},g,{song:b.song})})});case"UPDATE_MUSIC_STYLE":return babelHelpers["extends"]({},a,{stickerData:babelHelpers["extends"]({},f,{musicSticker:babelHelpers["extends"]({},g,{musicStickerMetaData:babelHelpers["extends"]({},h,{style:d("StoriesCreateMusicStickerConstants").STICKER_STYLES[b.selectedMusicStyle].style,xplat_sticker_style:d("StoriesCreateMusicStickerConstants").STICKER_STYLES[b.selectedMusicStyle].xplat_sticker_style}),selectedMusicStyle:d("StoriesCreateMusicStickerConstants").MusicStickers.cast(b.selectedMusicStyle)})})});case"CONFIRM_MUSIC_STICKER_TRIM_STATE":return babelHelpers["extends"]({},a,{stickerData:babelHelpers["extends"]({},f,{musicSticker:babelHelpers["extends"]({},g,{showMusicEditorFooter:!1,startTime:b.startTime})})});case"HIDE_MUSIC_EDITOR":return babelHelpers["extends"]({},a,{stickerData:babelHelpers["extends"]({},f,{musicSticker:babelHelpers["extends"]({},g,{showMusicEditorFooter:!1,showMusicEditorMenu:!1})})});case"SHOW_MUSIC_EDITOR":return babelHelpers["extends"]({},a,{stickerData:babelHelpers["extends"]({},f,{musicSticker:babelHelpers["extends"]({},g,{showMusicEditorFooter:!0,showMusicEditorMenu:!0})})})}return babelHelpers["extends"]({},a)}g["default"]=a}),98);
__d("StoriesCreateFormAddMusicButton.react",["fbt","FDSMusicFilled24Icon","StoriesCreateMusicStickerReducer","StoriesCreateToolButton.react","StoriesCreateViewStateDispatcherContext","react","react-compiler-runtime","useStoriesCreateReducer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext;function a(a){var b=d("react-compiler-runtime").c(6);a=a.isDisabled;a=a===void 0?!1:a;c("useStoriesCreateReducer")(c("StoriesCreateMusicStickerReducer"));var e=k(c("StoriesCreateViewStateDispatcherContext")),f;b[0]!==e?(f=function(){e({type:"OPEN_MUSIC_SELECTOR"})},b[0]=e,b[1]=f):f=b[1];f=f;var g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g={toolIcon:c("FDSMusicFilled24Icon"),toolLabel:h._(/*BTDS*/"Add music")},b[2]=g):g=b[2];b[3]!==a||b[4]!==f?(g=j.jsx(c("StoriesCreateToolButton.react"),{buttonProps:g,isDisabled:a,onClick:f}),b[3]=a,b[4]=f,b[5]=g):g=b[5];return g}g["default"]=a}),226);
__d("StoriesCreateMusicSelectorMutationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24125028053764690"}),null);
__d("StoriesCreateMusicSelectorMutationQuery.graphql",["StoriesCreateMusicSelectorMutationQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"input",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"should_show_saved_audio_badge",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"StoriesCreateMusicSelectorMutationQuery",selections:[{kind:"RequiredField",field:{alias:null,args:c,concreteType:"InspirationsAccountSettingsUpdateResponsePayload",kind:"LinkedField",name:"inspirations_account_settings_update",plural:!1,selections:[{kind:"RequiredField",field:d,action:"THROW",path:"inspirations_account_settings_update.success"},{alias:null,args:null,concreteType:"InspirationsAccountSettings",kind:"LinkedField",name:"settings",plural:!1,selections:[{kind:"RequiredField",field:e,action:"LOG",path:"inspirations_account_settings_update.settings.should_show_saved_audio_badge"}],storageKey:null}],storageKey:null},action:"THROW",path:"inspirations_account_settings_update"}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"StoriesCreateMusicSelectorMutationQuery",selections:[{alias:null,args:c,concreteType:"InspirationsAccountSettingsUpdateResponsePayload",kind:"LinkedField",name:"inspirations_account_settings_update",plural:!1,selections:[d,{alias:null,args:null,concreteType:"InspirationsAccountSettings",kind:"LinkedField",name:"settings",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("StoriesCreateMusicSelectorMutationQuery_facebookRelayOperation"),metadata:{},name:"StoriesCreateMusicSelectorMutationQuery",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("StoriesCreateMusicSelectorMutationQuery",["CometRelay","StoriesCreateMusicSelectorMutationQuery.graphql","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(1),c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=h!==void 0?h:h=b("StoriesCreateMusicSelectorMutationQuery.graphql"),a[0]=c):c=a[0];return d("CometRelay").useMutation(c)}g.useStoriesCreateMusicSelectorMutationQuery=a}),98);
__d("StoriesCreateMusicSelectorSongBookmarkMutation",["fbt","CometRelay","FDSCautionCircleFilled24Icon","FDSIcon.react","StoriesCreateMusicSelectorMutationQuery","cometPushToast","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useCallback,m=b.useState;function a(a){var b=a.id,e=d("CometRelay").useRelayEnvironment();a=d("StoriesCreateMusicSelectorMutationQuery").useStoriesCreateMusicSelectorMutationQuery();var f=a[0];a=m(!1);var g=a[0],i=a[1],j=function(a){d("cometPushToast").cometPushToast({action:{label:h._(/*BTDS*/"Try again"),onPress:a},icon:k.jsx(c("FDSIcon.react"),{color:"negative",icon:c("FDSCautionCircleFilled24Icon")}),message:h._(/*BTDS*/"Something went wrong and this song couldn\u2019t be saved.")},1e4)},n=l(function(){b==null?j(n):(i(!0),f({onCompleted:function(a){i(!1);(a=a.inspirations_account_settings_update)!=null&&a.success?d("CometRelay").commitLocalUpdate(e,function(a){(a=a.get(b))==null||a.setValue(!0,"is_saved_by_viewer")}):j(n)},onError:function(){j(n)},variables:{input:{audio_to_add:[{asset_id:b,save_source:"FB_STORIES_MUSIC_PICKER",save_time:Date.now()/1e3}]}}}))},[f,e,b]);return{isBookmarkingMusicInProgress:g,onBookmarkClick:n}}g.useStoriesCreateMusicSelectorSongBookmarkMutation=a}),226);
__d("StoriesCreateMusicSelectorSongUnbookmarkMutation",["fbt","CometRelay","FDSCautionCircleFilled24Icon","FDSIcon.react","StoriesCreateMusicSelectorMutationQuery","cometPushToast","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useCallback,m=b.useState;function a(a){var b=a.id,e=d("CometRelay").useRelayEnvironment();a=d("StoriesCreateMusicSelectorMutationQuery").useStoriesCreateMusicSelectorMutationQuery();var f=a[0];a=m(!1);var g=a[0],i=a[1],j=function(a){d("cometPushToast").cometPushToast({action:{label:h._(/*BTDS*/"Try Again"),onPress:a},icon:k.jsx(c("FDSIcon.react"),{color:"negative",icon:c("FDSCautionCircleFilled24Icon")}),message:h._(/*BTDS*/"Something went wrong and this song could not be removed.")},1e4)},n=l(function(){i(!0),b==null?j(n):f({onCompleted:function(a){i(!1);(a=a.inspirations_account_settings_update)!=null&&a.success&&d("CometRelay").commitLocalUpdate(e,function(a){(a=a.get(b))==null||a.setValue(!1,"is_saved_by_viewer")})},onError:function(){j(n)},variables:{input:{audio_to_remove:[b]}}})},[f,e,b]);return{isUnbookmarkingMusicInProgress:g,onUnbookmarkClick:n}}g.useStoriesCreateMusicSelectorSongUnbookmarkMutation=a}),226);
__d("StoriesProductStickerUtils",[],(function(a,b,c,d,e,f,g){"use strict";a={grayBackground:{backgroundColor:"xhzw6zf",$$css:!0},whiteBackground:{backgroundColor:"x14hiurz",$$css:!0}};b={stickerBackground:a.grayBackground,style:"SUBTLE",textColor:"var(--always-white)",textColorHex:"white"};c={stickerBackground:a.whiteBackground,style:"VIBRANT",textColor:"#050505",textColorHex:"#050505"};g.SUBTLE_STYLE=b;g.VIBRANT_STYLE=c}),98);
__d("StoriesProductStickerIcon.react",["ix","FDSIcon.react","FDSShopsFilled24Icon","IconSource","StoriesProductStickerUtils","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.stickerStyle;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=new(c("IconSource"))("FB",h("226351"),24),b[0]=e):e=b[0];e=e;b[1]!==a?(e=a===d("StoriesProductStickerUtils").VIBRANT_STYLE?j.jsx(c("FDSIcon.react"),{icon:e}):j.jsx(c("FDSIcon.react"),{color:"white",icon:c("FDSShopsFilled24Icon"),size:24}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);